# -*- coding: utf-8 -*-
"""Predictive Analysis_Vanessa Audrie Tanaka.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1SjHyb17V3ehCGIlhswDixBzucSf4minF

# Proyek Predictive Analysis: Domain Pendidikan
- **Nama:** Vanessa Audrie Tanaka
- **Email:** vanessaaudrie@students.usu.ac.id
- **ID Dicoding:** vanessaaudrietanaka

# Domain Proyek

Performa akademik siswa merupakan salah satu indikator penting dalam menilai keberhasilan pendidikan. Namun, performa ini tidak hanya ditentukan oleh faktor intelektual, melainkan juga dipengaruhi oleh berbagai kebiasaan sehari-hari seperti durasi tidur, durasi belajar, konsumsi kafein, penggunaan media sosial, hingga kebiasaan belajar. Sayangnya, masih banyak siswa dan institusi pendidikan yang belum menyadari pentingnya faktor-faktor non-akademik tersebut dalam mendukung pencapaian belajar.

Beberapa penelitian mengungkap beberapa pengaruh kebiasaan siswa terhadap hasil belajar. Penelitian oleh Reuter et al. (2020) menyatakan bahwa pola makan sehat, seperti konsumsi sarapan secara rutin, memiliki efek positif terhadap nilai akademik, sementara konsumsi makanan cepat saji justru berdampak negatif. Namun, faktor lain seperti pola tidur mungkin memiliki dampak yang lebih relevan. Carrión-Pantoja et al. (2022) melakukan penelitian mengenai hubungan insomnia, kebersihan saat tidur, dan kesehatan mental. Hasil penelitian menunjukkan faktor psikologis seperti stres, kecemasan, dan kualitas tidur juga memiliki peran penting. Insomnia yang dipicu oleh buruknya kebersihan tidur, rendahnya efisiensi tidur, dan depresi secara signifikan berhubungan dengan penurunan prestasi belajar. Penelitian yang dilakukan oleh Redondo-Flórez et al. (2022) juga menunjukkan kesehatan fisik seperti VO2 max, tekanan darah diastolik, dan insomnia akibat gangguan pernapasan memiliki hubungan yang relevan dengan performa akademik, menunjukkan pentingnya intervensi terhadap kebugaran dan kualitas tidur siswa. Selain pola makan dan kualitas tidur, Troll et al. (2021) meneliti hubungan penggunaan gawai dengan hasil akademis, hasilnya mengungkapkan penggunaan smartphone yang tidak terkontrol, prokrastinasi, berdampak negatif terhadap nilai akademik. Sebaliknya, siswa dengan pengendalian diri yang tinggi memiliki performa yang lebih baik karena mampu mengelola penggunaan smartphone secara efektif.


Temuan-temuan ini menunjukkan bahwa prediksi performa akademik tidak hanya relevan, tetapi juga sangat krusial sebagai dasar preventif. Masalah ini penting untuk diselesaikan karena:
- Pemahaman yang Lebih Baik: Analisis data dapat membantu siswa dan pendidik memahami kebiasaan apa saja yang paling berkaitan dengan hasil belajar.
- Preventif dan Intervensi Dini: Prediksi performa akademik berdasarkan kebiasaan dapat membantu siswa lebih berantisipasi  dan bertanggung jawab terhadap kebiasaan yang mereka jalani sehari-hari , sehingga berpotensi memperbaiki performa belajar secara bertahap.
- Pengambilan Keputusan Berbasis Data: Guru dan konselor pendidikan dapat menggunakan hasil model untuk memberikan bimbingan yang lebih personal dan objektif

Melalui pendekatan analisis data dan model regresi, proyek ini bertujuan memberikan gambaran tentang pentingnya gaya hidup terhadap performa belajar.

**Referensi:**<br>
Carrión-Pantoja, S., Prados, G., Chouchou, F., Holguín, M., Mendoza-Vinces, Á., Expósito-Ruiz, M., & Fernández-Puerta, L. (2022). Insomnia symptoms, sleep hygiene, mental health, and academic performance in Spanish university students: A cross-sectional study. Journal of Clinical Medicine, 11(7), 1989. https://doi.org/10.3390/jcm11071989

Redondo-Flórez, L., Ramos-Campo, D. J., & Clemente-Suárez, V. J. (2022). Relationship between physical fitness and academic performance in university students. International Journal of Environmental Research and Public Health, 19(22), 14750. https://doi.org/10.3390/ijerph192214750

Reuter, P. R., Forster, B. L., & Brister, S. R. (2020). The influence of eating habits on the academic performance of university students. Journal of American College Health, 69(8), 921–927. https://doi.org/10.1080/07448481.2020.1715986

Troll, E. S., Friese, M., & Loschelder, D. D. (2021). How students’ self-control and smartphone use explain their academic performance. Computers in Human Behavior, 117, 106624. https://doi.org/10.1016/j.chb.2020.106624

# Business Understanding

**Problem Statements:**
- Pernyataan Masalah 1<br>
Sangat memungkinkan bagi siswa untuk mengalami penurunan performa akademik bukan karena kemampuan intelektual, tetapi karena faktor gaya hidup seperti kurang tidur, konsumsi makanan tidak sehat, penggunaan media sosial berlebihan, dan pola belajar yang tidak teratur. Banyak yang masih tidak melakukan pendekatan analisis data untuk mengetahui pengaruh masing-masing faktor tersebut terhadap nilai akhir siswa.

- Pernyataan Masalah 2<br>
Belum diketahui pendekatan model regresi mana yang paling bagus untuk menjelaskan hubungan antara kebiasaan siswa dengan performa akademik, padahal pemilihan metode yang sesuai dapat membantu memberikan insight yang lebih mendalam.

**Goals:**
- Jawaban Masalah 1<br>
Mengidentifikasi faktor-faktor kebiasaan siswa yang paling signifikan memengaruhi performa akademik berdasarkan hasil analisis regresi. Tujuannya adalah memberikan insight yang berguna bagi siswa dan pendidik agar dapat fokus memperbaiki aspek gaya hidup yang paling berpengaruh terhadap hasil belajar.

- Jawaban Masalah 2<br>
Mengevaluasi dan membandingkan hasil dari beberapa algoritma regresi seperti Linear Regression, K Nearest Neighbor, Random Forest, dan Gradient Boosting untuk melihat pendekatan mana yang paling baik dalam menjelaskan hubungan antara variabel gaya hidup dan nilai akademik siswa.

**Solution Statements:**
- Eksplorasi dan pemodelan multivariat menggunakan beberapa model untuk mendapatkan model yang terbaik:
  - Linear Regression
  - K-Nearest Neighbors (KNN) Regression
  - Random Forest Regression
  - Gradient Boosting Regression

- Evaluasi model menggunakan metrik:
  - R-squared (R²)

- Visualisasi:
  - Histogram  untuk visualisasi data numerik
  - Barchart untuk visualisasi data kategorikal
  - Korelasi antar variabel (heatmap)
  - Barplot prediksi vs aktual untuk mengevaluasi model
  - Feature importance dan Feature coefficient

# Data Understanding

**Dataset**<br>
Proyek ini menggunakan dataset Student Habits vs Academic Performance yang diambil melalui Kaggle di [Link Dataset](https://www.kaggle.com/datasets/jayaantanaath/student-habits-vs-academic-performance)

Dataset ini bertujuan untuk membantu memahami pengaruh kebiasaan siswa terhadap performa akademik, targetnya adalah exam_score. Dataset ini berisi informasi mengenai gaya hidup, kebiasaan belajar, dan karakteristik individu siswa yang dikaitkan dengan performa akademik mereka. Dataset ini memiliki total 1000 data.

Deskripsi Variabel
Berikut adalah daftar fitur (variabel) yang terdapat dalam dataset:
- student_id: ID setiap siswa
- age: Usia siswa
- gender: Jenis kelamin siswa
-  study_hours_per_day: Rata-rata jam belajar siswa
- social_media_hours_per_day: rata-rata jam bermain media sosial
- netflix_hours: Rata-rata jam menonton film
- part_time_job: Ada atau tidaknya siswa tersebut bekerja paruh waktu
- attendance_percentage: Persentase kehadiran siswa
- sleep_hours: Rata-rata jam tidur siswa
- diet_quality: Kualitas pola makan siswa (Poor/Fair/Good)
- exercise_frequency: Berapa kali siswa olahraga dalam seminggu
- parental_education: Jenjang pendidikan orang tua
- internet_quality: Kualitas internet siswa (Good/Average/Poor)
- mental_health_rating: Rating kesehatan mental siswa dalam skala 1-10
- extracurricular_participation: Ada atau tidaknya siswa mengikuti extracuricular
- exam_score: Nilai akhir siswa (target variabel untuk prediksi).

<br>**Tahapan Awal Eksplorasi Data**<br>
Beberapa tahapan eksplorasi dan pemahaman data yang dilakukan:
- Load Dataset: Memuat dataset dan memeriksa informasi dataset.
- Deskripsi Data Numerik: Mendapatkan statistik deskriptif untuk fitur numerik.
- Cek Missing Values dan Duplikat: Memastikan apakah ada data yang hilang atau duplikat.
- Memisahkan variabel menjadi dua kategori: numerik dan kategorikal.
- Visualisasi Data Numerik: Menggunakan histogram untuk melihat distribusi variabel numerik.
- Deteksi outlier: Menggunakan boxplot untuk mengidentifikasi data yang berada di luar kisaran normal (outliers).
- Visualisasi Data Kategorikal: Menggunakan bar chart untuk memvisualisasikan distribusi variabel kategorikal.
- Correlation Matrix: Membuat matrix korelasi untuk melihat hubungan antar variabel numerik.


<br>**Visualisasi yang dilakukan:**<br>
- Histogram: Digunakan untuk menggambarkan distribusi variabel numerik.
- Boxplot: Digunakan untuk melihat ouliers yang ada di data numerik.
- Bar Chart: Digunakan untuk melihat distribusi nilai kolom kategorikal
- Correlation Matrix: Digunakan untuk melihat korelasi antar variabel numerik.

### Load Dataset
"""

# Commented out IPython magic to ensure Python compatibility.
#Import beberapa libraries yang akan dipakai
import numpy as np
import matplotlib.pyplot as plt
import pandas as pd
# %matplotlib inline
import seaborn as sns

"""Dataset diambil dari kaggle"""

#Upload file json dari kaggle
from google.colab import files
files.upload()

#Download dataset dari kaggle
import os

os.makedirs("/root/.kaggle", exist_ok=True)
!mv kaggle.json /root/.kaggle/
!chmod 600 /root/.kaggle/kaggle.json

!kaggle datasets download jayaantanaath/student-habits-vs-academic-performance
!unzip -q student-habits-vs-academic-performance.zip

"""Setelah di extract, data akan disimpan dalam dataframe dan ditampilkan beberapa row"""

#Load dataset dan tampilkan beberapa row atasnya
df = pd.read_csv('student_habits_performance.csv')
df.head()

"""Memeriksa struktur dataset untuk melihat jumlah data dan memastikan bahwa data sudah dalam tipe data yang benar"""

#Melihat info seperti jumlah dan tipe data dari dataset
df.info()

"""### Deskripsi Data Numerik"""

# Menampilkan statistik deskriptif untuk kolom numerik
df.describe()

"""**Insight:**
- Sebaran datanya tidak menunjukkan adanya data yang diluar batas/logika.
- umur siswa berkisar antara umur 17-24.
- study_hours_per_day memiliki nilai maksimum 8.3 dan rata-rata 3.55, menunjukkan sebagian besar siswa belajar dalam durasi sedang, tapi ada yang belajar untuk waktu yang lumayan lama.
- mental_health_rating rata-ratanya 5.44 dari 10, menandakan kondisi mental siswa cukup bervariasi, ada yang merasa sangat buruk (nilai 1), ada yang sangat baik (nilai 10).
- exercise_frequency cukup bervariasi, ada yang tidak olahraga sama sekali tapi ada juga yang olahraga 6 kali dalam seminggu.
- social_media_hours dan netflix_hours masing-masing rata-rata 2.5 dan 1.8 jam/hari, mengindikasikan penggunaan media cukup rendah, walaupun maksimumnya cukup tinggi.
- attendance_percentage berkisar dari 56% sampai 100%, dengan rata-rata 84%, artinya sebagian siswa punya tingkat kehadiran yang kurang optimal.
- sleep_hours rata-rata 6.47 jam (normal untuk umur 17-24) namun ada yang sangat rendah hanya 3.2 jam.
- exam_score memiliki rata-rata 69.6 dan maksimum 100, sedangkan minimumnya 18.4, menunjukkan sebaran performa siswa yang cukup bervariasi dari sangat rendah hingga 100.

### Missing Values dan Duplikat

Cek missing values
"""

#Cek missing values
df.isna().sum()

"""Terdapat 91 data null di kolom parental_education_level

Selanjutnya, cek data duplikat
"""

#Cek data yang duplikat
df.duplicated().sum()

"""Tidak ada data yang duplikat

### Memisahkan Variabel

Karena data di dataset ada yang numerik dan kategorikal, jika dibagi di awal akan mempermudah visualisasi di tahapan berikutnya nanti. Disini kolom student_id tidak dimasukkan ke kategori manapun karena hanya string id siswa, bukan kategori maupun numerik, dan tidak berpengaruh pada analisis.
"""

#Kategorikan kolom sesuai numerikal atau kategorikal
numerical_cols = [
    'age',
    'study_hours_per_day',
    'social_media_hours',
    'netflix_hours',
    'attendance_percentage',
    'sleep_hours',
    'exercise_frequency',
    'mental_health_rating',
    'exam_score'
]

categorical_cols = [
    'gender',
    'part_time_job',
    'diet_quality',
    'parental_education_level',
    'internet_quality',
    'extracurricular_participation'
]

"""### Visualisasi

Visualisasi kolom numerik dengan histogram. Alasan menggunakan histogram adalah karena histogram menampilkan distribusi frekuensi dari data numerik, sehingga memudahkan melihat pola seperti skewness apakah data condong ke kiri, ke kanan, normal, atau multimodal (lebih dari satu puncak).
"""

#Visualisasikan kolom numerik dengan histogram
num_vars = df.shape[1]
n_cols = 4
n_rows = -(-num_vars // n_cols)

fig, axes = plt.subplots(n_rows, n_cols, figsize=(20, n_rows * 4))
axes = axes.flatten()

for i, feature in enumerate(numerical_cols):
    sns.histplot(df[feature], kde=True, ax=axes[i])
    axes[i].set_title(f'Histogram of {feature}')

for j in range(i + 1, len(axes)):
    fig.delaxes(axes[j])

plt.tight_layout()
plt.show()

"""Kemudian, menggunakan boxplot untuk mengecek outliers. Boxplot digunakan untuk mendeteksi outlier karena dapat menampilkan ringkasan statistik penting dari distribusi data numerik, seperti median, kuartil pertama (Q1), kuartil ketiga (Q3), dan rentang antar kuartil (IQR). Outlier dapat dikenali sebagai nilai-nilai yang berada di luar batas bawah (Q1 - 1.5 * IQR) atau batas atas (Q3 + 1.5 * IQR). Visualisasi ini juga membantu melihat apakah distribusi data simetris atau condong (skewed), serta seberapa besar penyebaran nilai-nilai dalam fitur tertentu."""

#Cek outliers dengan boxplot
fig, axes = plt.subplots(n_rows, n_cols, figsize=(20, n_rows * 4))
axes = axes.flatten()

for i, column in enumerate(numerical_cols):
    sns.boxplot(x=df[column], ax=axes[i])
    axes[i].set_title(column)
    axes[i].set_xlabel('Value')

for j in range(i + 1, len(axes)):
    fig.delaxes(axes[j])

plt.tight_layout()
plt.show()

"""Nampak beberapa outliers di beberapa kolom, namun tidak ada tindakan yang akan dilakukan, karena:
- Data outliers tidak terlalu banyak dan tidak mendominasi distribusi data
- Data outliers tidak melewati batas logika (sangat memungkinkan jika siswa belajar 8 jam sehari atau bermain sosial media lebih dari 7 jam), sehingga informasi beginilah yang sebenarnya dapat digunakan untuk mencerminkan kebiasaan siswa di kehidupan nyata.
<br>Maka dari itu, outliers tidak akan di hapus ataupun ditransformasi untuk menjaga keutuhan informasi yang mencerminkan kebiasaan siswa secara realistis.

Kemudian, visualisasi kolom kategorikal menggunakan barchart. Barchart efektif untuk menampilkan frekuensi atau agregasi nilai dari setiap kategori secara jelas dan mudah dibandingkan. Visualisasi ini sangat berguna untuk mengidentifikasi kategori yang dominan, melihat distribusi data yang tidak seimbang, serta mengevaluasi bagaimana tiap kategori berhubungan dengan target variabel. Dibandingkan jenis visualisasi lainnya, barchart memberikan tampilan yang sederhana namun sangat informatif untuk data kategorikal.
"""

#Visualisasi kolom kategorikal dengan barchart
n_cols = 3
n_rows = -(-len(categorical_cols) // n_cols)

fig, axes = plt.subplots(n_rows, n_cols, figsize=(20, n_rows * 4))
axes = axes.flatten()

for i, col in enumerate(categorical_cols):
    sns.countplot(data=df, x=col, palette="Set2", order=df[col].value_counts().index, ax=axes[i])
    axes[i].set_title(f'{col}')
    axes[i].tick_params(axis='x', rotation=30)

for j in range(i + 1, len(axes)):
    fig.delaxes(axes[j])

plt.tight_layout()
plt.show()

"""Correlation matrix digunakan untuk memahami hubungan antar variabel numerik dalam dataset. Matriks ini menunjukkan seberapa kuat dan arah hubungan antara dua variabel menggunakan nilai korelasi Pearson, yang berkisar dari -1 hingga 1. Nilai mendekati 1 menunjukkan hubungan positif yang kuat, mendekati -1 menunjukkan hubungan negatif yang kuat, dan mendekati 0 menandakan tidak ada hubungan linear. Visualisasi correlation matrix, biasanya dalam bentuk heatmap, sangat membantu dalam mengidentifikasi fitur-fitur yang saling berkaitan dan fitur yang paling berhubungan dengan target variabel. Informasi ini berguna untuk seleksi fitur, mendeteksi multikolinearitas, dan merancang model yang lebih efisien."""

#Melihat korelasi variabel numerik dengan matriks korelasi
correlation_matrix = df[numerical_cols].corr()

plt.figure(figsize=(10, 8))
sns.heatmap(correlation_matrix, annot=True, cmap='coolwarm', fmt=".2f", linewidths=.5)
plt.title('Matriks Korelasi Variabel Numerik')
plt.tight_layout()
plt.show()

"""Dapat dilihat dari hasil visualisasinya, study_hours_per_day memiliki hubungan positif yang cukup tinggi dengan exam_score, yang artinya semakin lama seorang siswa belajar, semakin tinggi juga hasil ujiannya. mental_health_rating juga berkorelasi positif. Contoh dari korelasi negatif ada di social_media_hours, yang artinya semakin lama siswa bermain sosial media, semakin berpengaruh buruk bagi nilainya.

# Data Preparation

Ditahap ini, dilakukan beberapa proses cleaning dan transforming data
- Menghapus data yang null: Diperlukan untuk menghindari error saat pelatihan model serta menjaga integritas data. Karena jumlah data kosong sangat sedikit, maka baris yang mengandung nilai null dihapus secara langsung.
- Menghapus kolom yang tidak berpengaruh pada proses selanjutnya: Kolom student_id dihapus karena hanya merupakan identifier unik yang tidak memiliki kontribusi terhadap prediksi.
- Menghapus 'Others' dalam kolom gender: Umumnya jenis kelamin hanya ada 2. Oleh karena itu, baris dengan gender 'Others' dihapus dari dataset.
- Melakukan encoding kolom kategorikal
 - Label Encoding: diet_quality, parental_education_level, internet_quality
   - diet_quality ('Poor': 0, 'Fair': 1, 'Good': 2)
   - parental_education_level ('High School': 0, 'Bachelor': 1, 'Master': 2)
   - internet_quality ('Poor': 0, 'Average': 1, 'Good': 2)
 - Binary Encoding: gender, part_time_job, extracurricular_participation
   - gender
   - part_time_job, extracurricular_participation
- Split data ke train dan test: Dataset dibagi dengan rasio 80:20 menggunakan train_test_split agar model dapat dievaluasi performanya pada data baru yang tidak dilatih sebelumnya.
- Standarisasi data dengan standard scaler: Standarisasi diperlukan terutama untuk model-model seperti KNN dan regresi berbasis gradien yang sensitif terhadap skala data. Data dinormalisasi agar seluruh fitur memiliki rata-rata 0 dan standar deviasi 1, sehingga mempercepat proses pelatihan dan meningkatkan akurasi model.

### Drop Null

Menghapus data null
"""

#Menghapus data null
df.dropna(inplace=True)

#Cek jumlah data null setelah dihapus
df.isna().sum()

"""### Drop Kolom

Kolom student_id dihapus karena hanya merupakan identifier unik yang tidak memiliki kontribusi terhadap prediksi.
"""

#Menghapus kolom student ID
df.drop(columns=['student_id'], inplace=True)

"""### Drop Baris

Umumnya jenis kelamin hanya ada 2. Oleh karena itu, baris dengan gender 'Others' dihapus dari dataset.
"""

df = df[df['gender'] != 'Other']

df['gender'].value_counts()

"""### Encoding kolom kategorikal

- Label Encoding: diet_quality, parental_education_level, internet_quality
   - diet_quality ('Poor': 0, 'Fair': 1, 'Good': 2)
   - parental_education_level ('High School': 0, 'Bachelor': 1, 'Master': 2)
   - internet_quality ('Poor': 0, 'Average': 1, 'Good': 2)
- Binary Encoding: gender, part_time_job, extracurricular_participation
   - gender
   - part_time_job, extracurricular_participation
"""

# Melakukan label encoding secara manual pada fitur ordinal, nilai kategori diubah menjadi angka berdasarkan urutan logis
df['diet_quality'] = df['diet_quality'].map({'Poor': 0, 'Fair': 1, 'Good': 2})
df['parental_education_level'] = df['parental_education_level'].map({'High School': 0, 'Bachelor': 1, 'Master': 2})
df['internet_quality'] = df['internet_quality'].map({'Poor': 0, 'Average': 1, 'Good': 2})

# Menggunakan one-hot encoding untuk kolom yang kategorinya tidak terurut untuk menghindari asumsi urutan
binary_cols = ['gender', 'part_time_job', 'extracurricular_participation']
df = pd.get_dummies(df, columns=binary_cols, drop_first=True)

print(df.head())

"""### Split Train Test

Data dibagi menjadi 80:20. 80% data train dan 20% data test.
"""

#Membagi dataset menjadi train dan test
from sklearn.model_selection import train_test_split

y = df['exam_score']
X = df.drop(columns=['exam_score'])

X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)

"""### Standarisasi

Standarisasi diperlukan terutama untuk model-model seperti KNN dan regresi berbasis gradien yang sensitif terhadap skala data. Data dinormalisasi agar seluruh fitur memiliki rata-rata 0 dan standar deviasi 1, sehingga mempercepat proses pelatihan dan meningkatkan akurasi model.<br>
Untuk menghindari kebocoran informasi dari data uji ke model, proses **fit dan transform** dari standardisasi (yaitu perhitungan mean dan standar deviasi) hanya dilakukan pada data latih. Kemudian, hanya **transform** diterapkan pada data uji. Hal ini memastikan bahwa model tidak mendapatkan informasi dari data uji selama proses pelatihan.
"""

# Melakukan standardisasi dengan standard scaler
from sklearn.preprocessing import StandardScaler

scaler = StandardScaler()
X_train_scaled = scaler.fit_transform(X_train)
X_test_scaled = scaler.transform(X_test)

"""# Modeling

Beberapa algoritma regresi yang digunakan adalah:

**1. Linear Regression**
<br>Linear Regression adalah model dasar untuk regresi, digunakan sebagai baseline. Model ini berguna untuk melihat apakah hubungan antara fitur dan target bersifat linear.
<br>**Parameter:**  
- Tidak ada parameter khusus yang ditentukan karena menggunakan yang default dari Linear Regression.

<br>**Kelebihan:**  
- Cepat dan efisien untuk dataset kecil sampai menengah.  
- Hasil model mudah diinterpretasikan (koefisien menunjukkan arah pengaruh variabel).  
- Tidak mudah overfitting.

<br>**Kekurangan:**  
- Tidak cocok untuk data yang mengandung hubungan non-linear.  
- Rentan terhadap outlier.  

<br>**2. K-Nearest Neighbors (KNN) Regression**
<br>KNN Regression sangat intuitif dan tidak membuat asumsi bentuk hubungan antara variabel. Cocok untuk melihat apakah hubungan antara fitur dan target bisa diwakili oleh kedekatan nilai fitur.
<br>**Parameter:**  
- n_neighbors=7: Menggunakan 7 tetangga terdekat untuk membuat prediksi. Jika menggunakan terlalu sedikit model akan overfitting, jika terlalu banyak maka model akan underfit.

<br>**Kelebihan:**  
- Dapat menangani hubungan non-linear antar variabel.  
- Sangat fleksibel terhadap bentuk data.

<br>**Kekurangan:**  
- Boros memori dan waktu saat prediksi (harus menghitung jarak ke semua data).  
- Sangat sensitif terhadap skala fitur (perlu standardisasi).  
- Performanya menurun pada dataset berdimensi tinggi.

<br>**3. Random Forest Regression**
<br>Random Forest cocok untuk data dengan banyak fitur dan kompleksitas tinggi. Ia menggabungkan banyak decision tree untuk meningkatkan generalisasi dan menghindari overfitting.
<br>**Parameter:**  
- n_estimators=100: Jumlah pohon yang digunakan untuk membentuk forest.  
- random_state=42: Untuk memastikan hasil yang konsisten.

<br>**Kelebihan:**  
- Menangani hubungan non-linear dan interaksi antar fitur.  
- Robust terhadap outlier dan noise.  
- Memberikan feature importance untuk interpretasi.

<br>**Kekurangan:**  
- Interpretasi lebih sulit dibanding Linear Regression.  
- Cukup mahal secara komputasi untuk dataset besar.  
- Bisa overfitting jika jumlah pohon terlalu sedikit atau terlalu dalam.

<br>**4. Gradient Boosting Regression**
<br>Gradient Boosting Regression membangun model secara bertahap dan fokus pada kesalahan prediksi sebelumnya. Cocok untuk masalah regresi yang kompleks.
<br>**Parameter:**  
- n_estimators=100: Jumlah pohon yang digunakan dalam boosting.  
- random_state=42: Untuk memastikan hasil replikasi.

<br>**Kelebihan:**  
- Sangat akurat jika dituning dengan benar.  
- Menangani relasi non-linear dan interaksi antar variabel dengan baik.  
- Memberikan fitur penting seperti Random Forest.

<br>**Kekurangan:**  
- Sensitif terhadap parameter tuning.  
- Lebih lambat dibanding Random Forest karena sifatnya yang sekuensial.  
- Bisa overfitting jika jumlah estimator terlalu besar tanpa regularisasi.

<br>**Proses Pelatihan Model**
Semua model dilatih dengan data training (X_train, y_train) yang telah dipersiapkan pada tahap sebelumnya. Setiap model difit secara individual, dan hasilnya disimpan dalam dictionary fitted_models untuk evaluasi lebih lanjut.
"""

# Impor model regression
from sklearn.linear_model import LinearRegression, Ridge, Lasso
from sklearn.ensemble import RandomForestRegressor, GradientBoostingRegressor
from sklearn.neighbors import KNeighborsRegressor

# Inisialisasi dan latih semua model regression
models = {
    "Linear Regression": LinearRegression(),
    "KNN Regression": KNeighborsRegressor(n_neighbors=7),
    "Random Forest": RandomForestRegressor(n_estimators=100, random_state=42),
    "Gradient Boosting": GradientBoostingRegressor(n_estimators=100, random_state=42)
}

# Fit semua model ke data training
fitted_models = {}
for name, model in models.items():
    model.fit(X_train, y_train)
    fitted_models[name] = model

"""# Evaluation

**Metrik Evaluasi yang Digunakan**

R² (R-squared) adalah metrik yang digunakan untuk mengukur seberapa baik model dapat menjelaskan variasi dalam data target. Metrik ini sangat berguna  untuk menentukan seberapa baik model menangkap hubungan antara fitur dan target. R² cocok digunakan dalam proyek ini karena tujuan utama adalah memilih model yang paling efektif dalam memprediksi nilai akademik berdasarkan kebiasaan siswa. Dengan R², kita bisa mengetahui seberapa baik model memanfaatkan fitur-fitur untuk memprediksi hasil akademik siswa.

**Kenapa Menggunakan R²?**

1. **Tujuan Membandingkan Model**: R² membantu membandingkan model-model yang berbeda untuk melihat mana yang paling baik dalam menjelaskan hubungan antara input (fitur) dan output (target). Model dengan nilai R² lebih tinggi lebih baik dalam memprediksi nilai target.
   
2. **Fokus pada Kekuatan Prediksi**: R² menunjukkan proporsi variasi target yang dapat dijelaskan oleh model. Model yang lebih baik akan memiliki R² lebih mendekati 1, yang berarti model tersebut mampu menangkap sebagian besar variasi dalam data.
   
3. **Penting untuk Pemilihan Fitur**: R² tidak hanya digunakan untuk mengevaluasi model, tetapi juga dapat digunakan untuk melihat fitur mana yang paling berkontribusi terhadap prediksi dengan menggunakan koefisien model (untuk model linear) atau feature importance (untuk model berbasis pohon seperti Random Forest).

Rumus:  
![r-squared-linear-regression-model.png](data:image/png;base64,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)


**Keterangan:**
- $y_i$ = Nilai aktual (observasi asli) dari data.
- $\hat{y}_i$ = Nilai prediksi (hasil model).
- $\bar{y}$ = Rata-rata nilai aktual (mean dari nilai \( y_i \)).
- $n$ = Jumlah data.

**Penjelasan:**
- **pembilang**: $\sum (y_i - \hat{y}_i)^2$ adalah jumlah kuadrat kesalahan atau residual sum of squares (RSS). Ini menunjukkan seberapa besar perbedaan antara nilai yang diprediksi dan nilai aktual.
  
- **penyebut**: $\sum (y_i - \bar{y})^2$ adalah total sum of squares (TSS). Ini menunjukkan seberapa besar variasi dalam data aktual, yaitu perbedaan antara nilai aktual dan nilai rata-rata.

Visualisasi hasil evaluasi menggunakan barplot horizontal karena:

- Barplot memudahkan perbandingan antar model secara visual.
- Visualisasi ini juga membantu mengidentifikasi apakah ada overfitting (nilai R² tinggi di training tapi rendah di testing), dan menunjukkan model mana yang paling stabil serta generalizable.

Bandingkan Hasil R² dari semua model
"""

# Impor metrik evaluasi
from sklearn.metrics import r2_score

metrics = ['train_r2', 'test_r2']
results = pd.DataFrame(index=metrics)

# Evaluasi performa tiap model
for name, model in fitted_models.items():
    # Prediksi data train dan test
    y_pred_train = model.predict(X_train)
    y_pred_test = model.predict(X_test)

    # Evaluasi pada data train dan test
    results.loc['train_r2', name]  = r2_score(y_train, y_pred_train)
    results.loc['test_r2', name]  = r2_score(y_test, y_pred_test)

# Tampilkan hasil evaluasi
results = results.T
results = results.round(4)
display(results)

# Plot perbandingan R2 (Train vs Test)
results[['train_r2', 'test_r2']].plot(kind='barh', figsize=(8, 4))
plt.title("Perbandingan R² Score (Train vs Test)")
plt.xlabel("R² Score")
plt.ylabel("Model")
plt.grid(axis='x')
plt.tight_layout()
plt.show()

"""Memilih model terbaik berdasarkan R² dari test"""

# Pilih model dengan test_r2 tertinggi
best_model_name = results['test_r2'].idxmax()
best_model = fitted_models[best_model_name]

print(f"Model terbaik berdasarkan test R²: {best_model_name}")

"""Memvisualisasikan Feature Coefficient dan Feature Importance
- Feature Importance dipilih karena Gradient Boosting memiliki akurasi test tertinggi, yaitu 0.8910
- Feature Coefficient dipilih karena Linear Regression memiliki akurasi test ke 2 tertinggi, yaitu 0.8848
"""

linear_model = fitted_models["Linear Regression"]
gb_model = fitted_models["Gradient Boosting"]

linear_importance = pd.Series(linear_model.coef_, index=X_train.columns)
gb_importance = pd.Series(gb_model.feature_importances_, index=X_train.columns)

fig, axes = plt.subplots(1, 2, figsize=(14, 6))

# Linear model
linear_importance.sort_values().plot(kind='barh', ax=axes[0], color='skyblue')
axes[0].set_title('Feature Coefficients (Linear Regression)')
axes[0].set_xlabel('Coefficient')
axes[0].set_ylabel('Feature')

# Gradient Boosting model
gb_importance.sort_values().plot(kind='barh', ax=axes[1], color='salmon')
axes[1].set_title('Feature Importance (Gradient Boosting)')
axes[1].set_xlabel('Importance')
axes[1].set_ylabel('')

plt.tight_layout()
plt.show()

"""**Insight:**
- Untuk ke 2 model, study_hours_per_day adalah faktor yang paling berpengaruh. Semakin banyak waktu belajar, semakin tinggi nilai.
- mental_health_rating berada di posisi ke 2 untuk Gradient Boosting, Kesehatan mental memiliki dampak positif terhadap performa akademik.
- Namun untuk Linear Regression social_media_hours dan netflix_hours lebih berpengaruh, namun pengaruhnya negatif, artinya semakin banyak waktu dihabiskan untuk hiburan dan media sosial, semakin menurun nilai.
- sleep_hours dan exercise_frequency juga memiliki pengaruh terhadap nilai akhir siswa.

# Conclusion

**Masalah 1:**
- Untuk ke 2 model, study_hours_per_day adalah faktor yang paling berpengaruh. Semakin banyak waktu belajar, semakin tinggi nilai.
- mental_health_rating berada di posisi ke 2 untuk Gradient Boosting, Kesehatan mental memiliki dampak positif terhadap performa akademik.
- Namun untuk Linear Regression social_media_hours dan netflix_hours lebih berpengaruh, namun pengaruhnya negatif, artinya semakin banyak waktu dihabiskan untuk hiburan dan media sosial, semakin menurun nilai.
- sleep_hours dan exercise_frequency juga memiliki pengaruh terhadap nilai akhir siswa.

<br>**Masalah 2:**
Model terbaik adalah Gradient Boosting dengan akurasi test 0.8910, diikuti dengan Linear regression dengan akurasi 0.8848. Pemilihan model terbaik diambil melalui metrik evaluasi R²
"""